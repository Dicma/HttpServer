<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>HttpServer Class</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="HttpServer class" /><meta name="System.Keywords" content="Feri.MS.Http.HttpServer class" /><meta name="System.Keywords" content="HttpServer class, about HttpServer class" /><meta name="Microsoft.Help.F1" content="Feri.MS.Http.HttpServer" /><meta name="Microsoft.Help.Id" content="T:Feri.MS.Http.HttpServer" /><meta name="Description" content="Class is min HTTP server class." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Feri.MS.Http" /><meta name="file" content="89bd29a8-81ad-86b8-13b4-364e49e267e1" /><meta name="guid" content="89bd29a8-81ad-86b8-13b4-364e49e267e1" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">HttpServer class library<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="b2fa21e3-503f-b4ab-f0c7-a01f0878ed31.htm" title="HttpServer class library" tocid="roottoc">HttpServer class library</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="b2fa21e3-503f-b4ab-f0c7-a01f0878ed31.htm" title="Feri.MS.Http" tocid="b2fa21e3-503f-b4ab-f0c7-a01f0878ed31">Feri.MS.Http</a></div><div class="toclevel1 current" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="89bd29a8-81ad-86b8-13b4-364e49e267e1.htm" title="HttpServer Class" tocid="89bd29a8-81ad-86b8-13b4-364e49e267e1">HttpServer Class</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="b5789eee-7603-d116-a573-8b242745236e.htm" title="HttpServer Constructor " tocid="b5789eee-7603-d116-a573-8b242745236e">HttpServer Constructor </a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="30560371-0228-7ef2-9e76-c6a35495765e.htm" title="HttpServer Properties" tocid="30560371-0228-7ef2-9e76-c6a35495765e">HttpServer Properties</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="aaf8e187-7e80-90e6-afc6-006dab7af70d.htm" title="HttpServer Methods" tocid="aaf8e187-7e80-90e6-afc6-006dab7af70d">HttpServer Methods</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn">HttpServer Class</td></tr></table><span class="introStyle"></span><p style="color: #dc143c; font-size: 8.5pt; font-weight: bold;">[This is preliminary documentation and is subject to change.]</p><div class="summary">
            Class is min HTTP server class. It handles reciving conenctions, creating Tasks (and indirectly threads from thread pool), creating HttpRequest and HttpResponse objects, 
            adding and removing users, handling authentications, trigegring events based on the client requests, processing request errors, handling timers,
            registing and removing assemblies in which to look for embeded content, registing embedded content for reading.
            
            Basic usage:
            HttpServer server = new HttpServer();
            server.start();
            
            Normal usage:
            HttpServer server = new HttpServer();
            server.SetRootPath("PublicHtml", "/index.html");
            server.AddPath("/some_path.html", some_listener_method);
            server.start();
            </div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Inheritance Hierarchy</span></div><div id="ID0RBSection" class="collapsibleSection"><a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">System<span id="LSTDE93DE4B_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTDE93DE4B_0?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Object</a><br />  <span class="selflink">Feri.MS.Http<span id="LSTDE93DE4B_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTDE93DE4B_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>HttpServer</span><br /></div><p> </p><strong>Namespace:</strong> <a href="b2fa21e3-503f-b4ab-f0c7-a01f0878ed31.htm">Feri.MS.Http</a><br /><strong>Assembly:</strong> HttpServer (in HttpServer.dll) Version: 0.1.0.0 (0.1.0.0)<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID2RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID1EECA_tab1" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID1EECA','cs','1','5');return false;">C#</a></div><div id="ID1EECA_tab2" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID1EECA','vb','2','5');return false;">VB</a></div><div id="ID1EECA_tab3" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID1EECA','cpp','3','5');return false;">C++</a></div><div id="ID1EECA_tab4" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID1EECA','fs','4','5');return false;">F#</a></div><div id="ID1EECA_tab5" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID1EECA','jsh','5','5');return false;">J#</a></div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID1EECA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID1EECA');return false;" title="Copy">Copy</a></div></div><div id="ID1EECA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">class</span> <span class="identifier">HttpServer</span> : <span class="identifier">IDisposable</span></pre></div><div id="ID1EECA_code_Div2" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">Public</span> <span class="keyword">Class</span> <span class="identifier">HttpServer</span>
	<span class="keyword">Implements</span> <span class="identifier">IDisposable</span></pre></div><div id="ID1EECA_code_Div3" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">ref class</span> <span class="identifier">HttpServer</span> : <span class="identifier">IDisposable</span></pre></div><div id="ID1EECA_code_Div4" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">type</span> <span class="identifier">HttpServer</span> =  
    <span class="keyword">class</span>
        <span class="keyword">interface</span> <span class="identifier">IDisposable</span>
    <span class="keyword">end</span></pre></div><div id="ID1EECA_code_Div5" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">class</span> <span class="identifier">HttpServer</span> <span class="keyword">implements</span> <span class="identifier">IDisposable</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID1EECA");</script></div><p>The <span class="selflink">HttpServer</span> type exposes the following members.</p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Constructors</span></div><div id="ID3RBSection" class="collapsibleSection"><table id="memberList" class="members"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="b5789eee-7603-d116-a573-8b242745236e.htm">HttpServer</a></td><td><div class="summary">
            Main constructor. It initializes needed classes and registers this class as assembly to look for information (default methods need html files to display errors).
            It allso registers Session cleanup timer to remove stale session objects (by default all session that were not accessed for more then 2 hours).
            </div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Properties</span></div><div id="ID4RBSection" class="collapsibleSection"><table id="memberList" class="members"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="4e1895a0-d4bd-45e6-4946-87a66f6701dd.htm">AuthenticationRequired</a></td><td /></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="41986373-a894-1697-e73f-a83f7a8b0af0.htm">GetMimeType</a></td><td /></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="d63831d0-c4d6-a7ec-5bfb-7417af0fc834.htm">IPFilterEnabled</a></td><td /></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="862fe959-d6e1-d5e2-5000-0938b2f11bd0.htm">SetDebug</a></td><td /></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Methods</span></div><div id="ID5RBSection" class="collapsibleSection"><table id="memberList" class="members"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="3b70d404-25dd-f4e6-33bd-b218dad6ac1b.htm">AddBlackList</a></td><td><div class="summary">
            Method adds provided IP address and range to the blacklist
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="dbe30fe4-4dee-d0f1-d927-eee8b6b27323.htm">AddPath</a></td><td><div class="summary">
            Method registers new event listener for specified part recived in HttpREquest.
            For example, if path recived was /HelloWorld it could call registered listener ProcessHelloWorld(HttpRequest, HttpResponse)
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="e85c2982-1bc2-643d-c692-7da79871871c.htm">AddRootPath</a></td><td><div class="summary">
            Method replaces default listener for static and unregistered content with user specified one.
            Unregistered content meand all url requests that are not handeled by other listeners.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="fd4711aa-8626-ae9a-0607-14a7ec787b5a.htm">AddTimer</a></td><td><div class="summary">
            Method adds new periodic timer. It does not pass any arguments to listener.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="4baa5659-88d9-be77-6395-52fc4430512d.htm">AddUser</a></td><td><div class="summary">
            method adds user to the list of registered users (users that are allowed access to the application over http)
            WARNING: server uses basic authentication.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="e472adf6-c968-9b0e-28c9-087ba3fa74ff.htm">AddWhiteList</a></td><td><div class="summary">
            Method adds provided IP address and range to the whitelist
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="0c5635fc-7549-2e63-6552-5cb14428cefc.htm">Dispose</a></td><td><div class="summary">Releases all resources used by the <span class="selflink">HttpServer</span></div></td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/bsc2ak47" target="_blank">Equals</a></td><td> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="protected;inherited;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/4k87zsw7" target="_blank">Finalize</a></td><td> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="c063147b-e6f8-9308-2e8e-3fa2776bb2b2.htm">GetEmbededContaines</a></td><td><div class="summary">
            Helper method to check if embedded resource ecists
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="1883ac4c-733e-8a3b-d0ff-4c700c88f3b0.htm">GetEmbededNames</a></td><td><div class="summary">
            Helper method that returnes List of all names of embedded resources 
            </div></td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/zdee4b3y" target="_blank">GetHashCode</a></td><td> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/dfwy45w9" target="_blank">GetType</a></td><td> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="db8a7394-64b1-1a88-13e0-8dda903dde2b.htm">IsBlackListed</a></td><td><div class="summary">
            Method checks if provided ip exist in blacklist.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="7a9b5f7b-f887-3442-18f3-1d53340daada.htm">IsWhiteListed</a></td><td><div class="summary">
            Method checks if provided ip exist in whitelist.
            </div></td></tr><tr data="protected;inherited;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/57ctke0a" target="_blank">MemberwiseClone</a></td><td> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="8a7080c4-0f89-e99f-2f1b-f3de5136da45.htm">ReadEmbededToByte</a></td><td><div class="summary">
            Method reads embedded file and returnes byte array with the data.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="dcf545dc-ec11-f66b-a357-62fef2312ec4.htm">RefreshFileList</a></td><td><div class="summary">
            Method scans for new embedded content that can be read form registered assemblies. It must be called whenever new assemblies are added or removed.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="a68a77ff-dd1e-390c-c78d-c1a88b3b34d6.htm">RegisterAssembly</a></td><td><div class="summary">
            Method registers new assembly to look for embeded content. (in Visual studio in file properties build action is embedded resource)
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="935e89c0-b708-1d7c-43b5-b9a08fa1835d.htm">RemoveBlackList</a></td><td><div class="summary">
            method removes provided ip from the blacklist
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="16d75a26-b816-9750-741e-79eb7954bfd0.htm">RemovePath</a></td><td><div class="summary">
            Method removes event listener and unregisters the HTTP path.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="8443f4dd-93f8-1eee-2703-1ebf8321ee19.htm">RemoveTimer</a></td><td><div class="summary">
            Method stops and removes specified timer.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="6feb7903-220b-d82f-ead3-8b28826eab43.htm">RemoveUser</a></td><td><div class="summary">
            Method removes user from list of authorized users.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="eaff1d28-00b9-7985-c9b7-d705215ec25f.htm">RemoveWhiteList</a></td><td><div class="summary">
            method removes provided ip from the whitelist
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="0386dd85-1dee-14f9-0840-5aed0cee9f2f.htm">SetRootPath</a></td><td><div class="summary">
            Method sets root path for built in static html listener. It defines where to look for static content and what is default file to look for.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="3dd07b65-f98b-2d72-1418-d27468a6fe49.htm">Start</a></td><td><div class="summary">
            this method just creates new StreamSocketListener and registers listener for new conenctions recived and then binds this listener to port specified by user.
            If you call the method without arguments, it defaults to port 8000.
            Must be called before server starts to listen to requests.
            </div></td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/7bxwbwt2" target="_blank">ToString</a></td><td> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="25316fa2-7e19-bf20-d8e6-68dccb801c47.htm">UnregisterAssembly</a></td><td><div class="summary">
            Method removes assembly from the list of assemblies to look for embeded content.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="d6979b7f-f22c-c4d8-64a7-af5176701c9f.htm">UrlToPath</a></td><td><div class="summary">
            Method takes url provided by user methods and returns full path to be read, with all package names.
            It uses registered files to scan. It does partitial file scan and returnes first found file. that's why it's important that calling methods add atleast part of namespace before path.
            For example "publicHtml" + path
            </div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID6RB')" onkeypress="SectionExpandCollapse_CheckKey('ID6RB', event)" tabindex="0"><img id="ID6RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID6RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="b2fa21e3-503f-b4ab-f0c7-a01f0878ed31.htm">Feri.MS.Http Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>